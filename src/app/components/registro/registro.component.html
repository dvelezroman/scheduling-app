<div class="contenedor forms">
    <div class="form formulario">
        <div class="form content ">
            <h1>Crear Usuario</h1>
            <p>{{rol|titlecase}}</p>

            <form autocomplete="off" 
            (ngSubmit)="registrar(f)" 
            #f="ngForm">


                <div class="field input-field">
                    <input type="text" 
                            placeholder="Nombres" 
                            class=" form-control input"
                            name="nombres"
                            [(ngModel)]="usuario.nombres"
                            required
                            #nombres="ngModel"
                            minlength="1"
                            [class.is-invalid]="nombres.invalid && nombres.touched">
                        <small *ngIf="nombres.invalid && nombres.touched"
                         class="avisos form-text text-danger animate__animated animate__fadeIn">campo obligatorio
                        </small>
                        </div>

                        <div *ngIf="usuario.rol === 'medico'" class="field input-field">
                            <input type="text" 
                                    placeholder="Especialidad" 
                                    class="form-control input"
                                    #especialidad="ngModel"
                                    name="especialidad"
                                    [(ngModel)]="usuario.especialidad"
                                    required
                                    [class.is-invalid]="especialidad.invalid && especialidad.touched">
                            <small *ngIf="especialidad.invalid && especialidad.touched"
                           class="avisos form-text text-danger animate__animated animate__fadeIn">campo requerido 
                            </small>
                        </div>
                        
                        <div *ngIf="usuario.rol === 'paciente'" class="field input-field">
                            <input type="number" 
                                    placeholder="Edad" 
                                    class="form-control input"
                                    #edad ="ngModel"
                                    name="edad"
                                    [(ngModel)]="usuario.edad"
                                    required
                                    [class.is-invalid]="edad.invalid && edad.touched">
                            <small *ngIf="edad.invalid && edad.touched"
                           class="avisos form-text text-danger animate__animated animate__fadeIn">campo requerido 
                            </small>
                        </div>

                <div class="field input-field">
                    <input type="text" 
                            placeholder="Email" 
                            class="form-control input"
                            #email="ngModel"
                            name="email"
                            [(ngModel)]="usuario.email"
                            required
                            [class.is-invalid]="email.invalid && email.touched">
                    <small *ngIf="email.invalid && email.touched"
                   class="avisos form-text text-danger animate__animated animate__fadeIn">correo no válido
                    </small>
                </div>
                
                <div class="field input-field">
                    <input [type]="mostrar? 'text' : 'password'" 
                            placeholder="Password" 
                            class="form-control password"
                            name="password"
                            [(ngModel)]="usuario.password"
                            required
                            minlength="6">
                                
                    <small *ngIf="f.submitted && f.controls['password'].errors"
                        class=" avisos form-text text-danger">contraseña debe contener al menos 6 caracteres
                    </small>
                    <div *ngIf="!mostrar">
                        <i (click)='toggleMostrar()' class="fa fa-eye-slash eye-icon"></i>
                    </div>
                    <div *ngIf="mostrar">
                        <i (click)='toggleMostrar()' class="fa fa-eye eye-icon"></i>
                    </div>

                </div> 

                 
                
                <div class="field button-field">
                    <button>Registrarse</button>
                </div>
               
                <div class="form-link">
                   <span> Ya tienes cuenta?<a routerLink="/login"><small>Iniciar Sesión</small></a></span> 
                </div>

            </form>
        </div>
    </div>
</div>


